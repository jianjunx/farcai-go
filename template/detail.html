<link rel="stylesheet" href="/resource/css/editormd.preview.min.css" />

<div>
  <p>${.id}</p>
  <div id="view-content">
    <textarea>${.article.Markdown}</textarea>
  </div>
</div>
<div id="toc-ctn"></div>
<script src="/resource/lib/marked.min.js"></script>
<script src="/resource/lib/prettify.min.js"></script>
<script src="/resource/lib/raphael.min.js"></script>
<script src="/resource/lib/underscore.min.js"></script>
<script src="/resource/lib/sequence-diagram.min.js"></script>
<script src="/resource/lib/flowchart.min.js"></script>
<script src="/resource/lib/jquery.flowchart.min.js"></script>
<script src="/resource/js/editormd.min.js"></script>
<script type="text/javascript">
  $(function () {
    var editormdView;

    $.get("test.md", function (markdown) {
      editormdView = editormd.markdownToHTML("view-content", {
        // markdown: "${.article.Markdown}", //+ "\r\n" + $("#append-test").text(),
        htmlDecode: "style,script,iframe", // you can filter tags decode
        tocm: true, // Using [TOCM]
        tocContainer: "#toc-ctn", // 自定义 ToC 容器层
        // markdownSourceCode: true, // 是否保留 Markdown 源码，即是否删除保存源码的 Textarea 标签
        emoji: true,
        taskList: true,
        tex: true, // 默认不解析
        flowChart: true, // 默认不解析
        sequenceDiagram: true, // 默认不解析
      });
    });
  });
</script>
